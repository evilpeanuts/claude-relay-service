# ç¿»è¯‘ç»Ÿè®¡åŠŸèƒ½ä½¿ç”¨è¯´æ˜

## åŠŸèƒ½æ¦‚è¿°

ç¿»è¯‘ç»Ÿè®¡é¡µé¢æä¾›äº†å®Œæ•´çš„ç¿»è¯‘æœåŠ¡ä½¿ç”¨æƒ…å†µç›‘æ§ï¼ŒåŒ…æ‹¬ï¼š
- âœ… å…¨å±€ç¿»è¯‘ç»Ÿè®¡
- âœ… æŒ‰ä¾›åº”å•†ç»Ÿè®¡ï¼ˆå°ç‰›ç¿»è¯‘ã€DeepLï¼‰
- âœ… æŒ‰è´¦æˆ·ç»Ÿè®¡
- âœ… æŒ‰æ—¥æœŸæŸ¥è¯¢
- âœ… éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®

## è®¿é—®æ–¹å¼

### 1. ç™»å½•ç®¡ç†åå°

```
http://localhost:3000/admin-next/login
```

### 2. è®¿é—®ç¿»è¯‘ç»Ÿè®¡é¡µé¢

ç™»å½•åï¼Œè®¿é—®ï¼š
```
http://localhost:3000/admin-next/translation-stats
```

æˆ–é€šè¿‡ä¾§è¾¹æ èœå•ï¼š**ğŸŒ Translation Stats**

## é¡µé¢åŠŸèƒ½

### å…¨å±€ç»Ÿè®¡
- æ€»ç¿»è¯‘å­—ç¬¦æ•°
- æ€»è°ƒç”¨æ¬¡æ•°

### ä¾›åº”å•†ç»Ÿè®¡
- ğŸ‚ å°ç‰›ç¿»è¯‘
  - å­—ç¬¦æ•°
  - è°ƒç”¨æ¬¡æ•°
  - è´¦æˆ·æ˜ç»†
- ğŸ”· DeepL
  - å­—ç¬¦æ•°
  - è°ƒç”¨æ¬¡æ•°
  - è´¦æˆ·æ˜ç»†

### æ—¥æœŸé€‰æ‹©
- é»˜è®¤æ˜¾ç¤ºä»Šå¤©çš„ç»Ÿè®¡
- å¯é€‰æ‹©ä»»æ„å†å²æ—¥æœŸ
- æ•°æ®ä¿ç•™ 90 å¤©

## API æ¥å£

### è·å–å…¨å±€ç»Ÿè®¡
```
GET /admin/translation/stats/global?date=2026-01-14
```

### è·å–ä¾›åº”å•†ç»Ÿè®¡
```
GET /admin/translation/stats/provider/niutrans?date=2026-01-14
```

### è·å–è´¦æˆ·ç»Ÿè®¡
```
GET /admin/translation/stats/account/niutrans/your_app_id?date=2026-01-14
```

### è·å–æ‰€æœ‰è´¦æˆ·ç»Ÿè®¡
```
GET /admin/translation/stats/accounts/niutrans?date=2026-01-14
```

### è·å–æ—¥æœŸèŒƒå›´ç»Ÿè®¡
```
GET /admin/translation/stats/range?provider=niutrans&startDate=2026-01-01&endDate=2026-01-14
```

## Redis æ•°æ®ç»“æ„

### ç»Ÿè®¡é”®æ ¼å¼

```bash
# å…¨å±€ç»Ÿè®¡
translation_stats:global:2026-01-14

# ä¾›åº”å•†ç»Ÿè®¡
translation_stats:niutrans:2026-01-14
translation_stats:deepl:2026-01-14

# è´¦æˆ·ç»Ÿè®¡
translation_stats:niutrans:your_app_id:2026-01-14
translation_stats:deepl:your_api_key:2026-01-14
```

### æ•°æ®æ ¼å¼

```bash
# Hash ç»“æ„
chars: 12345  # å­—ç¬¦æ•°
calls: 100    # è°ƒç”¨æ¬¡æ•°
```

## ç»Ÿè®¡è®°å½•æ—¶æœº

ç¿»è¯‘ç»Ÿè®¡åœ¨ä»¥ä¸‹æ—¶æœºè‡ªåŠ¨è®°å½•ï¼š

1. **è°ƒç”¨ç¿»è¯‘ API æ—¶**
   - è®°å½•å®é™…ç¿»è¯‘çš„å­—ç¬¦æ•°
   - ä¸åŒ…æ‹¬ç¼“å­˜å‘½ä¸­çš„è¯·æ±‚

2. **è®°å½•ä½ç½®**
   - `niutransService.js`: å°ç‰›ç¿»è¯‘è°ƒç”¨å
   - `translateMiddleware.js`: DeepL è°ƒç”¨åï¼ˆéœ€è¦æ·»åŠ ï¼‰

## æŸ¥çœ‹ç»Ÿè®¡æ•°æ®

### é€šè¿‡ Redis CLI

```bash
# æŸ¥çœ‹ä»Šå¤©çš„å…¨å±€ç»Ÿè®¡
redis-cli hgetall translation_stats:global:2026-01-14

# æŸ¥çœ‹å°ç‰›ç¿»è¯‘ç»Ÿè®¡
redis-cli hgetall translation_stats:niutrans:2026-01-14

# æŸ¥çœ‹æ‰€æœ‰ç¿»è¯‘ç»Ÿè®¡é”®
redis-cli keys "translation_stats:*"
```

### é€šè¿‡ Web ç•Œé¢

1. ç™»å½•ç®¡ç†åå°
2. ç‚¹å‡»ä¾§è¾¹æ  **ğŸŒ Translation Stats**
3. é€‰æ‹©æ—¥æœŸæŸ¥çœ‹ç»Ÿè®¡

## æ•°æ®ä¿ç•™ç­–ç•¥

- **ä¿ç•™æ—¶é—´**: 90 å¤©
- **è‡ªåŠ¨è¿‡æœŸ**: Redis TTL è‡ªåŠ¨æ¸…ç†
- **å­˜å‚¨ä¼˜åŒ–**: ä½¿ç”¨ Hash ç»“æ„ï¼ŒèŠ‚çœå†…å­˜

## æƒé™æ§åˆ¶

- âœ… éœ€è¦ç®¡ç†å‘˜ç™»å½•
- âœ… è·¯ç”±å— `requiresAuth: true` ä¿æŠ¤
- âœ… API æ¥å£éœ€è¦ç®¡ç†å‘˜è®¤è¯

## æš—é»‘æ¨¡å¼æ”¯æŒ

é¡µé¢å®Œå…¨æ”¯æŒæš—é»‘æ¨¡å¼ï¼š
- è‡ªåŠ¨è·Ÿéšç³»ç»Ÿä¸»é¢˜
- ç»ç’ƒæ€å¡ç‰‡æ•ˆæœ
- å“åº”å¼è®¾è®¡

## åç»­ä¼˜åŒ–å»ºè®®

1. **å›¾è¡¨å¯è§†åŒ–**: æ·»åŠ  ECharts å›¾è¡¨å±•ç¤ºè¶‹åŠ¿
2. **å¯¼å‡ºåŠŸèƒ½**: æ”¯æŒå¯¼å‡º CSV/Excel
3. **å®æ—¶åˆ·æ–°**: WebSocket å®æ—¶æ›´æ–°ç»Ÿè®¡
4. **æˆæœ¬è®¡ç®—**: æ ¹æ®å­—ç¬¦æ•°è®¡ç®—ç¿»è¯‘æˆæœ¬
5. **å‘Šè­¦åŠŸèƒ½**: è¶…è¿‡é˜ˆå€¼æ—¶å‘é€é€šçŸ¥
